<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>boot-process-kernel</title>
    <script
        src="../static/assets/category/application-8013fdc35e4c79f95bcb3d655ff61f137ac05bcee52e6d96588427a84eddef12.js.download"
        data-turbolinks-track="true"></script>
    <link rel="stylesheet" media="all"
        href="../static/assets/category/application-b0b91461d093aa2ed95d8a7467856e4dc16f55744d3c17a927c3598e5b26cd3f.css"
        data-turbolinks-track="true">
</head>

<body>
    <div id="wrapper" class="active">
        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul id="sidebar_menu" class="sidebar-nav">
                <li class="sidebar-brand"><a>Booting</a>
                </li>
            </ul>
            <ul class="sidebar-nav" id="sidebar">
                
                <li>
                    <a class="" href="boot-process-overview.html">
                        1. Boot process overview</a>
                </li>
                
                <li>
                    <a class="" href="boot-process-bios.html">
                        2. Boot process bios</a>
                </li>
                
                <li>
                    <a class="" href="boot-process-bootloader.html">
                        3. Boot process bootloader</a>
                </li>
                
                <li>
                    <a class="current" href="boot-process-kernel.html">
                        4. Boot process kernel</a>
                </li>
                
                <li>
                    <a class="" href="boot-process-init.html">
                        5. Boot process init</a>
                </li>
                
            </ul>
        </div>
        <!-- End of Sidebar -->


        <div id="page-content-wrapper">
            <!-- Keep all page content within the page-content inset div! -->
            <div class="page-content inset">
                <div class="row">
                    <div class="col-md-6 lesson">

                        <div class="user-app">
                            <a class="btn btn-default btn-sm" href="../index.html">
                                Home
                            </a>
                        </div>

                        <div class="lesson-content">
                            
<h3>Boot Process: Kernel</h3>
<p>So now that our bootloader has passed on the necessary parameters, let's see how it get's started:</p>
<p><b>Initrd vs Initramfs</b></p>
<p>There is a bit of a chicken and egg problem when we talk about the kernel bootup. The kernel manages our systems hardware, however not all drivers are available to the kernel during bootup. So we depend on a temporary root filesystem that contains just the essential modules that the kernel needs to get to the rest of the hardware. In older versions of Linux, this job was given to the initrd (initial ram disk). The kernel would mount the initrd, get the necessary bootup drivers, then when it was done loading everything it needed, it would replace the initrd with the actual root filesystem. These days, we have something called the initramfs, this is a temporary root filesystem that is built into the kernel itself to load all the necessary drivers for the real root filesystem, so no more locating the initrd file. </p>
<p><b>Mounting the root filesystem</b></p>
<p>Now the kernel has all the modules it needs to create a root device and mount the root partition. Before you go any further though, the root partition is actually mounted in read-only mode first so that fsck can run safely and check for system integrity. Afterwards it remounts the root filesystem in read-write mode. Then the kernel locates the init program and executes it. </p>

                        </div>
                    </div>

                    <div class="col-md-6 practice">
                        <div class="exercise-content">
                            <h3>Exercise</h3>
<p>No exercises for this lesson.</p>

                        </div>

                        <div class="quiz-content">
                            <h3>Quiz Question</h3>
<p>What is used in modern systems to load up a temporary root filesystem?</p>
<h3>Quiz Answer</h3>
<p>initramfs</p>
</div>

                        </div>
                    </div>

                </div>
            </div>
        </div>

</body>

</html>