<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>system-calls</title>
    <script
        src="../static/assets/category/application-8013fdc35e4c79f95bcb3d655ff61f137ac05bcee52e6d96588427a84eddef12.js.download"
        data-turbolinks-track="true"></script>
    <link rel="stylesheet" media="all"
        href="../static/assets/category/application-b0b91461d093aa2ed95d8a7467856e4dc16f55744d3c17a927c3598e5b26cd3f.css"
        data-turbolinks-track="true">
</head>

<body>
    <div id="wrapper" class="active">
        <!-- Sidebar -->
        <div id="sidebar-wrapper">
            <ul id="sidebar_menu" class="sidebar-nav">
                <li class="sidebar-brand"><a>Kernel</a>
                </li>
            </ul>
            <ul class="sidebar-nav" id="sidebar">
                
                <li>
                    <a class="" href="kernel-overview.html">
                        1. Kernel overview</a>
                </li>
                
                <li>
                    <a class="" href="kernel-privilege-levels.html">
                        2. Kernel privilege levels</a>
                </li>
                
                <li>
                    <a class="current" href="system-calls.html">
                        3. System calls</a>
                </li>
                
                <li>
                    <a class="" href="kernel-installation.html">
                        4. Kernel installation</a>
                </li>
                
                <li>
                    <a class="" href="kernel-location.html">
                        5. Kernel location</a>
                </li>
                
                <li>
                    <a class="" href="kernel-modules.html">
                        6. Kernel modules</a>
                </li>
                
            </ul>
        </div>
        <!-- End of Sidebar -->


        <div id="page-content-wrapper">
            <!-- Keep all page content within the page-content inset div! -->
            <div class="page-content inset">
                <div class="row">
                    <div class="col-md-6 lesson">

                        <div class="user-app">
                            <a class="btn btn-default btn-sm" href="../index.html">
                                Home
                            </a>
                        </div>

                        <div class="lesson-content">
                            
<h3>System Calls</h3>
<p>Remember Britney in the previous lesson? Let's say we want to see her and get some drinks together, how do we get from standing outside in the crowds of people to inside her innermost circle? We would use system calls. System calls are like the VIP passes that get you to a secret side door that leads directly to Britney.</p>
<p>System calls (syscall) provide user space processes a way to request the kernel to do something for us. The kernel makes certain services available through the system call API. These services allow us to read or write to a file, modify memory usage, modify our network, etc. The amount of services are fixed, so you can't be adding system calls nilly willy, your system already has a table of what system calls exist and each system call has a unique ID. </p>
<p>I won't get into specifics of system calls, as that will require you to know a bit of C, but the basics is that when you call a program like ls, the code inside this program contains a system call wrapper (so not the actual system call yet). Inside this wrapper it invokes the system call which will execute a trap, this trap then gets caught by the system call handler and then references the system call in the system call table. Let's say we are trying to call the stat() system call, it's identified by a syscall ID and the purpose of the stat() system call is to query the status of a file. Now remember, you were running the ls program in non-privilege mode. So now it sees you're trying to make a syscall, it then switches you over to kernel mode, there it does lots of things but most importantly it looks up your syscall number, finds it in a table based on the syscall ID and then executes the function you wanted to run. Once it's done, it will return back to user mode and your process will receive a return status if it was successful or if it had an error. The inner workings of syscalls get really detailed, I would recommend looking at information online if you want to learn more. </p>
<p>You can actually view the system calls that a process makes with the strace command. The strace command is useful for debugging how a program executed. </p>
<pre>$ strace ls</pre>

                        </div>
                    </div>

                    <div class="col-md-6 practice">
                        <div class="exercise-content">
                            <h3>Exercise</h3>
<p>No exercises for this lesson.</p>

                        </div>

                        <div class="quiz-content">
                            <h3>Quiz Question</h3>
<p>What is used to switch from user mode to kernel mode?</p>
<h3>Quiz Answer</h3>
<p>system call</p>
</div>

                        </div>
                    </div>

                </div>
            </div>
        </div>

</body>

</html>